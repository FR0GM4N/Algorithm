# [swea] 4866. 괄호검사 (파이썬 S/W 문제해결 기본 Stack1)

> 주어진 입력에서 괄호 {}, ()가  `{}, ()` 가 제대로 짝을 이룬 경우 1, 그렇지 않으면 0을 출력하는 문제이다. 

<br>

<br>

## 첫 코드

> 샘플 케이스는 맞았는데, 채점용 input 파일로 채점한 결과 fail 이었고 (10개의 테스트케이스 중 3개만 맞음)   **런타임에러** 가 발생했다.

찾아보니 런타임에러는 배열인덱스를 잘못 참조했을 때 등등의 이유로 발생한다고 한다.

🤔 *아마 stack에서 pop해줄게 없는데 해줘서 인듯하다*

  - 런타임 에러가 발생하는 이유 ?

    1. 배열에 할당된 크기를 넘어서 접근했을 때
    2. 전역 배열의 크기가 메모리 제한을 초과할 때
    3. 지역 배열의 크기가 스택 크기 제한을 넘어갈 때
    4. 0으로 나눌 때
    5. 라이브러리에서 예외를 발생시켰을 때
    6. 재귀 호출이 너무 깊어질 때
    7. 이미 해제된 메모리를 또 참조할 때
    8. 프로그램(main 함수)이 0이 아닌 수를 반환했을 때

```python
import sys
sys.stdin = open("sample_input.txt")

T = int(input())
for tc in range(1, T+1):
    S = input()  # 인풋 스트링
    stack = []
    for s in S:
        # 괄호인 애들만 체킹
        if s == '{' or s == '(':
            stack.append(s)
        elif s == '}':
            if stack[-1] == '{':
                stack.pop()
        elif s == ')':
            if stack[-1] == '(':
                stack.pop()

    # stack의 길이가 0이 아니면(i.e. 괄호가 남아있다는 의미)
    if len(stack):
        print("#{} 0".format(tc))
    # stack의 길이가 0인 경우(i.e. 짝이 잘 맞았다는 의미)
    else:
        print("#{} 1".format(tc))
```

<br>

<br>

## 두번째 코드

> `stack.pop()` 을 해줄 때, 만약 stack이 비어있으면 pop을 해줄 수 없어서 런타임에러가 일어났던 것 같다. 아래처럼 코드를 수정해주니 pass 했다 ! 

```python
import sys
sys.stdin = open("sample_input.txt")

T = int(input())
for tc in range(1, T+1):
    S = input()  # 인풋 스트링
    stack = []
    for s in S:
        # 괄호인 애들만 체킹
        if s == '{' or s == '(':
            stack.append(s)
        elif s == '}' or s == ')':
            # stack이 비어있으면 추가하고 break. 어차피 뒤쪽을 봐야 이미 짝이 안맞기 때문
            if not stack:
                stack.append(s)
                break
            # s랑 stack의 마지막 요소랑 다른 괄호이면 역시 그냥 더해주고 break. 어차피 제대로 된 짝이 아니니까
            elif (s == '}' and stack[-1] != '{') or (s == ')' and stack[-1] != '('):
                stack.append(s)
                break
            # 위의 경우에 모두 해당 안되면(i.e. 제대로 짝이 맞는 경우)
            else:
                stack.pop()

    # stack의 길이가 0이 아니면(i.e. 괄호가 남아있다는 의미)
    if len(stack):
        print("#{} 0".format(tc))
    # stack의 길이가 0인 경우(i.e. 짝이 잘 맞았다는 의미)
    else:
        print("#{} 1".format(tc))
```

